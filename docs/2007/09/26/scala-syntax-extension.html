<!DOCTYPE html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Join The Machine</title>
  <meta name="description" content="Personal blog of Antoine Toulme" />
  <meta name="generator" content="Textile" />
  <link href="/stylesheets/main.css" rel="stylesheet" type="text/css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/feed/atom.xml" rel="alternate" title="Personal blog of Antoine Toulme" type="application/atom+xml" />
  <link rel="apple-touch-icon" href="/images/favicon.ico">
  <link rel="icon" type="image/png" href="/images/favicon.ico" />
  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-2663492-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</head>
<body>
    <div id="wrap">  
    <div id="sidebar" class="mobile-hide">
      <a rel="license" href="http://creativecommons.org/licenses/by/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/88x31.png" /></a>
      <div id="subscribe">
        <p><a href="/feed/atom.xml">Atom feed</a></p>
      </div>

      <div id="about">
        Personal blog. All ideas expressed my own.
      </div>

      <h2 id="latest_posts">Latest posts</h2>
      <ul>
      
        <li><a href="/2016/01/14/curly-braces.html">Curly braces in Java</a></li>
      
        <li><a href="/2016/01/08/INDEX.LIST-and-java-jar.html">INDEX.LIST and java -jar</a></li>
      
        <li><a href="/2015/12/19/mass-producing-custom-software.html">Mass producing custom software â€“ no longer "mission impossible"</a></li>
      
        <li><a href="/2015/12/11/net-developer.html">How to get a raise if you develop in .NET.</a></li>
      
        <li><a href="/2015/10/22/four-types-of-wine.html">Only four types of wine, and three types of enterprise systems</a></li>
      
        <li><a href="/2015/10/13/buy-or-build.html">Buy or build? It does not matter</a></li>
      
        <li><a href="/2012/02/20/introducing-guesslink.html">Introducing Guesslink</a></li>
      
        <li><a href="/2011/12/08/class-methods-and-private-modifiers.html">Class methods and private modifiers</a></li>
      
        <li><a href="/2011/11/23/praise-for-waze.html">Some praise for Waze</a></li>
      
        <li><a href="/2011/11/23/congrats-mr-stallman.html">Congratulations, Mr Stallman!</a></li>
      
        <li><a href="/2011/11/18/spelling-webapp.html">Spelling webapp online</a></li>
      
        <li><a href="/2011/11/11/spelling-correctly.html">Getting help spelling words - Introducing the spell project</a></li>
      
        <li><a href="/2011/04/08/latest-jenkins-build-info.html">Latest jenkins build info</a></li>
      
        <li><a href="/2011/04/08/detect-git-changes.html">Detect git changes</a></li>
      
        <li><a href="/2011/02/13/query-wikipedia-...-apache-camel.html">Query wikipedia over DNS TXT queries with Apache Camel</a></li>
      
        <li><a href="/2010/11/22/caught-on-tape.html">Caught on tape</a></li>
      
        <li><a href="/2010/11/20/irc-logging.html">IRC logging</a></li>
      
        <li><a href="/2010/10/01/drools-committer.html">Drools Committer</a></li>
      
        <li><a href="/2010/06/22/speaker_tag.html">Eclipse OMG Symposium Speaker Tag</a></li>
      
        <li><a href="/2010/06/22/eclipse-omg-symposium-2010.html">Eclipse OMG symposium 2010</a></li>
      
      </ul>
      
    </div>
    <div id="content">
      <div id="header"><h1><a href="/">Join The Machine</a></h1>
  <p class="description" id="description" style="height: 100px;">
    
  </p>
  <script type="text/javascript">
    var lyrics = ["Welcome my son<br>Welcome to the machine<br>Where have you been?<br>It's alright we know where you've been"
,
    "You've been in the pipeline<br>Filling in time<br>Provided with toys and scouting for boys<br>You brought a guitar to punish your ma"
,
    "And you didn't like school<br>And you know you're nobody's fool<br>So welcome to the machine"
,
    "Welcome my son<br>Welcome to the machine<br>What did you dream?<br>It's alright we told you what to dream"
,
    "You dreamed of a big star<br>He played a mean guitar<br>He always ate in the Steak Bar<br>He loved to drive in his Jaguar<br>So welcome to the machine"]
  var i = 0;
  var fn = function() {
    document.getElementById("description").innerHTML = lyrics[i];
    i++;
    if (i >= lyrics.length) {
      i = 0;
    }
  };
  fn();
  window.setInterval(fn, 5000);
  </script> 
</div>
      <div class="entry home">
        <h2 class="entrytitle">Scala syntax extension</h2>
        
        <div class="meta">
  <p><span class="date">26 September 2007</span></p>
</div>
         <div class="entrybody"><p>Follow up with <a href="http://www.lunar-ocean.com/blog/textile/">yesterday</a>:<br />
you can get my <a href='http://www.lunar-ocean.com/blog/wp-content/uploads/2007/09/scala-syntax.zip' title='The Scala syntax gem extension'>Scala syntax gem extension here</a>, and read below for the instructions on how to install it.</p>
<p>First here is the result:</p>
<p><pre class='syntax'></p>
<p><span class="comment">/**<br />
 so much fun<br />
*/<br />
</span><span class="keyword">class </span><span class="constant">Auction(seller: Actor, </span><span class="ident">minBid: </span><span class="constant">Int, </span><span class="ident">closing: </span><span class="constant">Date) </span><span class="keyword">extends </span><span class="constant">Actor </span><span class="punct">{<br />
  </span><span class="keyword">val </span><span class="constant">StringForFun </span><span class="punct">= &quot;</span><span class="string">hello</span><span class="punct">&quot;<br />
  </span><span class="keyword">val </span><span class="ident">timeToShutdown </span><span class="punct">= </span><span class="constant">36000000</span><span class="punct"> </span><span class="comment">// msec<br />
</span><span class="punct">  </span><span class="keyword">val </span><span class="ident">bidIncrement </span><span class="punct">= </span><span class="constant">10<br />
</span><span class="punct">  </span><span class="keyword">def </span><span class="ident">act() </span><span class="punct">{<br />
    </span><span class="keyword">var </span><span class="ident">maxBid </span><span class="punct">= </span><span class="ident">minBid </span><span class="punct">- </span><span class="ident">bidIncrement<br />
    </span><span class="keyword">var </span><span class="ident">maxBidder: </span><span class="constant">Actor </span><span class="punct">= </span><span class="ident">null<br />
    </span><span class="keyword">var </span><span class="ident">running </span><span class="punct">= </span><span class="constant">true<br />
    </span><span class="keyword">while </span><span class="punct">(</span><span class="ident">running) </span><span class="punct">{<br />
      </span><span class="ident">receiveWithin </span><span class="punct">((</span><span class="ident">closing.getTime() </span><span class="punct">- </span><span class="ident">new </span><span class="constant">Date().getTime())) </span><span class="punct">{<br />
        </span><span class="keyword">case </span><span class="constant">Offer(bid, </span><span class="ident">client) </span><span class="punct">=&gt;<br />
          </span><span class="keyword">if </span><span class="punct">(</span><span class="ident">bid </span><span class="punct">&gt;= </span><span class="ident">maxBid </span><span class="punct">+ </span><span class="ident">bidIncrement) </span><span class="punct">{<br />
            </span><span class="keyword">if </span><span class="punct">(</span><span class="ident">maxBid </span><span class="punct">&gt;= </span><span class="ident">minBid) maxBidder </span><span class="punct">! </span><span class="constant">BeatenOffer(bid)<br />
            </span><span class="ident">maxBid </span><span class="punct">= </span><span class="ident">bid; maxBidder </span><span class="punct">= </span><span class="ident">client; client </span><span class="punct">! </span><span class="constant">BestOffer<br />
          </span><span class="punct">} </span><span class="ident">else </span><span class="punct">{<br />
            </span><span class="ident">client </span><span class="punct">! </span><span class="constant">BeatenOffer(maxBid)<br />
          </span><span class="punct">}<br />
        </span><span class="keyword">case </span><span class="constant">Inquire(client) </span><span class="punct">=&gt;<br />
          </span><span class="ident">client </span><span class="punct">! </span><span class="constant">Status(maxBid, </span><span class="ident">closing)<br />
        </span><span class="keyword">case </span><span class="constant"><span class="caps">TIMEOUT</span> </span><span class="punct">=&gt;<br />
          </span><span class="keyword">if </span><span class="punct">(</span><span class="ident">maxBid </span><span class="punct">&gt;= </span><span class="ident">minBid) </span><span class="punct">{<br />
            </span><span class="keyword">val </span><span class="ident">reply </span><span class="punct">= </span><span class="constant">AuctionConcluded(seller, </span><span class="ident">maxBidder)<br />
            maxBidder </span><span class="punct">! </span><span class="ident">reply; seller </span><span class="punct">! </span><span class="ident">reply<br />
          </span><span class="punct">} </span><span class="ident">else </span><span class="punct">{<br />
            </span><span class="ident">seller </span><span class="punct">! </span><span class="constant">AuctionFailed<br />
          </span><span class="punct">}<br />
          </span><span class="ident">receiveWithin(timeToShutdown) </span><span class="punct">{<br />
            </span><span class="keyword">case </span><span class="constant">Offer(_, </span><span class="ident">client) </span><span class="punct">=&gt; </span><span class="ident">client </span><span class="punct">! </span><span class="constant">AuctionOver<br />
            </span><span class="keyword">case </span><span class="constant"><span class="caps">TIMEOUT</span> </span><span class="punct">=&gt; </span><span class="ident">running </span><span class="punct">= </span><span class="constant">false<br />
          </span><span class="punct">}<br />
      }<br />
    }<br />
  }<br />
}<br />
</pre></p>
<p>You will need to add those <span class="caps">CSS</span> elements to display things correctly:</p>
<pre>
pre {
	background: #000000 repeat-x;
	color: #00FF00;
	font-family: arial, 'lucida console', sans-serif;
	line-height: 160%;
	font-size: 120%;
}

code {
	color: #00EE00;
	font-style: bold;
	font-family: arial, 'lucida console', sans-serif;
}	

.comment { color: #333; font-style: italic; }
.keyword { color: #eff; font-weight: bold; }
.punct { color: #444; font-weight: bold; }
.symbol { color: #0bb; }
.string { color: #6b4; }
.ident { color: #00b; }
.constant { color: #66f; }
.regex { color: #a82; }
.number { color: #a33; }
.expr { color: #227; }

</pre>
<p>Then on your machine, you will need ruby and rubygems installed, and install redcloth and syntax:</p>
<pre>
gem install syntax
gem install redcloth
</pre>
<p>Put your sample into a text file in the same folder as run.rb, then run:<br />
<pre><br />
ruby run.rb myscala.txt &gt; output.html<br />
</pre></p>
<p>That&#8217;s about it. It&#8217;d be great to develop the same things for Java and <span class="caps">CSS</span>. In the mean time,  enjoy!</p></div>
         
      </div>
    </div>
    
  </div>

  <div id="footer">Powered by <a href="http://textile.thresholdstate.com/">Textile</a> <br /><span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">Join the Machine</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://www.github.com/atoulme" property="cc:attributionName" rel="cc:attributionURL">Antoine Toulme</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 Unported License</a>.<br />Based on a work at <a xmlns:dct="http://purl.org/dc/terms/" href="http://www.github.com/atoulme/blog" rel="dct:source">www.github.com/atoulme/blog</a>.</div>
</body>
</html>